<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Fraction Fun</title>
    <style>
      :root{--accent:#3f7bdc;--muted:#666}
      body{font-family:Segoe UI,Roboto,Helvetica,Arial,sans-serif;margin:0;padding:20px;color:#111}
      .app{max-width:980px;margin:0 auto;border:2px solid #cfe; padding:20px}
      .controls{display:flex;gap:16px;align-items:center;flex-wrap:wrap}
      .box{padding:16px;border:2px solid #9fd1a6;border-radius:4px;min-width:160px}
      .box.blue{background:var(--accent);color:#fff;border-color:#375ea6}
      label{display:block;font-weight:600;margin-bottom:6px}
      select,input[type=number]{font-size:1.1rem;padding:8px;border:1px solid #ccc;border-radius:4px}
      .fraction-text{font-size:1.2rem}
      /* mixed-number and stacked fraction rendering */
      /* mixed-number: big integer with small stacked fraction as superscript */
      .mixed{display:inline-block;position:relative;padding-right:8px}
      .fraction-decimal{font-size:1.0rem;color:#0a84ff;font-weight:700;line-height:1}
      .fraction-stack{position:absolute;right:0;top:0;transform:translate(28%, -12%);display:inline-block;text-align:center}
      /* when there is no integer part, make the stack flow inline (centered) */
      .mixed:not(.has-int) .fraction-stack{position:static;transform:none;display:inline-block;margin-left:6px}
      .fraction-stack .num,.fraction-stack .den{display:block;font-size:0.85rem;color:#0a84ff;line-height:1}
      .fraction-stack .bar{display:block;border-top:2px solid #0a84ff;margin:2px 0}
      h1{text-align:center}

      /* Desktop table (headers horizontal, values row below) */
      .conv-table{width:100%;border-collapse:collapse;margin-top:28px}
      .conv-table th,.conv-table td{border:2px solid #111;padding:12px;text-align:center}
      .conv-table th{font-size:1.1rem;background:#fff}
      .conv-table td{font-size:0.95rem}

      /* Mobile stacked view (headings in first column, values in second) */
      .stacked{display:none;margin-top:18px}
      .pair{display:flex;justify-content:space-between;padding:10px;border:1px solid #ccc}
      .pair .k{font-weight:700}

      /* Responsive behavior */
      @media (max-width:640px){
        .controls{flex-direction:column;align-items:stretch}
        .conv-table{display:none}
        .stacked{display:block}
      }

      /* watermark styling */
      .watermark{
        position:fixed;
        right:12px;
        bottom:12px;
        font-size:14px;
        font-weight:700;
        color:#000;
        opacity:0.12;
        pointer-events:none;
        user-select:none;
        z-index:9999;
        letter-spacing:0.6px;
      }
      @media (max-width:768px){
        .watermark{font-size:12px;right:8px;bottom:8px;opacity:0.14}
      }

    </style>
  </head>
  <body>
    <div class="app">
      <h1>अपूर्णांक</h1>

      <div class="controls">
        <div class="box">
          <label for="decimal">अपूर्णांक निवडा </label>
          <select id="decimal" aria-label="decimal selector"></select>
        </div>

        <div class="box">
          <div id="numDen" class="fraction-text">
            <span class="mixed" id="mixedWrap">
              <span id="fractionDecimal" class="fraction-decimal">&nbsp;</span>
              <span id="fractionRender" class="fraction-stack">&nbsp;</span>
            </span>
          </div>
        </div>
      </div>

        <div class="box">
          <label>अपूर्णांक अक्षरी</label>
          <div id="marathiText" class="fraction-text">&nbsp;</div>
        </div>

        <div class="box">
          <label>Fraction in word</label>
          <div id="fractionWord" class="fraction-text">&nbsp;</div>
        </div>



      <!-- Desktop table -->
      <table class="conv-table" id="convTable" aria-label="Conversions table">
        <thead>
          <tr>
            <th>लीटर</th>
            <th>मीटर</th>
            <th>किलोग्रॅम</th>
            <th>डझन</th>
            <th>तास </th>
            <th>टक्के</th>
            <th>हजार</th>
          </tr>
        </thead>
        <tbody>
          <tr id="valuesRow">
            <td id="litVal">&nbsp;</td>
            <td id="metVal">&nbsp;</td>
            <td id="kgVal">&nbsp;</td>
            <td id="dozVal">&nbsp;</td>
            <td id="hrVal">&nbsp;</td>
            <td id="pctVal">&nbsp;</td>
            <td id="thouVal">&nbsp;</td>
          </tr>
        </tbody>
      </table>

      <!-- Mobile stacked view -->
      <div class="stacked" id="stackedView" aria-hidden="true">
        <div class="pair"><div class="k">लीटर</div><div class="v" id="litVal_m">&nbsp;</div></div>
        <div class="pair"><div class="k">मीटर</div><div class="v" id="metVal_m">&nbsp;</div></div>
        <div class="pair"><div class="k">किलोग्रॅम</div><div class="v" id="kgVal_m">&nbsp;</div></div>
        <div class="pair"><div class="k">डझन</div><div class="v" id="dozVal_m">&nbsp;</div></div>
        <div class="pair"><div class="k">तास</div><div class="v" id="hrVal_m">&nbsp;</div></div>
        <div class="pair"><div class="k">टक्के</div><div class="v" id="pctVal_m">&nbsp;</div></div>
        <div class="pair"><div class="k">हजार</div><div class="v" id="thouVal_m">&nbsp;</div></div>
      </div>

    </div>

    <script>
      // Populate select with values 0.00..5.00 step 0.25
      const sel = document.getElementById('decimal');
      for(let v=0; v<=5.0001; v+=0.25){
        const val = (Math.round(v*100)/100).toFixed(2);
        const opt = document.createElement('option');
        opt.value = val;
        opt.textContent = val;
        sel.appendChild(opt);
      }
      sel.value = '0.25';

      // Marathi Devnagari mapping for fractions
      const marathiMap = {
        '0.25': 'पाव',
        '0.50': 'अर्धा',
        '0.75': 'पाऊण',
        '1.00': 'एक',
        '1.25': 'सव्वा',
        '1.50': 'दिड',
        '1.75': 'पावणे दोन',
        '2.00': 'दोन',
        '2.25': 'सव्वा दोन',
        '2.50': 'अडीच',
        '2.75': 'पावणे तीन',
        '3.00': 'तीन',
        '3.25': 'सव्वा तीन',
        '3.50': 'साडे तीन',
        '3.75': 'पावणे चार',
        '4.00': 'चार',
        '4.25': 'सव्वा चार',
        '4.50': 'साडे चार',
        '4.75': 'पावणे पाच',
        '5.00': 'पाच'
      };

      // Fraction word mapping for quarters
      function fracWord(num){
        const n = Number(num);
        const integer = Math.floor(n);
        const frac = Math.round((n - integer) * 4) / 4; // quarters
        const fracMap = {0:'', 0.25:'quarter',0.5:'half',0.75:'three quarters'};
        if(n===0) return 'zero';
        if(integer===0){
          return fracMap[frac] || n;
        }
        if(frac===0) return integer === 1 ? 'one' : String(integer);
        // e.g. 1.25 -> "1 and a quarter"
        const fracText = fracMap[frac] || String(frac);
        return `${integer} and ${fracText}`;
      }

      // Helper: greatest common divisor
      function gcd(a,b){
        a = Math.abs(a); b = Math.abs(b);
        while(b){
          const t = a % b; a = b; b = t;
        }
        return a;
      }

      // Convert decimal (string/number) to reduced fraction
      function decimalToFraction(value){
        const n = Number(value);
        // use two decimal places as input values are like 0.25, 1.25 etc.
        const numerator = Math.round(n * 100);
        const denominator = 100;
        const g = gcd(numerator, denominator);
        return {num: numerator / g, den: denominator / g};
      }

      // Update conversions
      function updateAll(){
        const v = Number(sel.value);
        const marathiWord = marathiMap[sel.value] || '';
        document.getElementById('marathiText').textContent = marathiWord;
        document.getElementById('fractionWord').textContent = `${sel.value} — ${fracWord(sel.value)}`;

        // Liter -> ml
        const ml = Math.round(v*1000);
        document.getElementById('litVal').textContent = ml + ' मिली लीटर';
        document.getElementById('litVal_m').textContent = ml + ' मिली लीटर';

        // Meter -> cm
        const cm = Math.round(v*100);
        document.getElementById('metVal').textContent = cm + ' सेंटी मीटर';
        document.getElementById('metVal_m').textContent = cm + ' सेंटी मीटर';

        // Kilogram -> grams
        const g = Math.round(v*1000);
        document.getElementById('kgVal').textContent = g + ' ग्रॅम';
        document.getElementById('kgVal_m').textContent = g + ' ग्रॅम';

        // Dozen -> pieces (12)
        const doz = (v * 12);
        const dozText = Number.isInteger(doz) ? (doz + ' नग') : (doz.toFixed(2) + ' pices');
        document.getElementById('dozVal').textContent = dozText;
        document.getElementById('dozVal_m').textContent = dozText;

        // Hour -> minutes (show minutes)
        const minutes = Math.round(v*60);
        const hrText = minutes + ' मिनिटे' + (minutes===1? '':'');
        document.getElementById('hrVal').textContent = hrText;
        document.getElementById('hrVal_m').textContent = hrText;

        // Percentage
        const pct = (v*100).toFixed(0) + '%';
        document.getElementById('pctVal').textContent = pct;
        document.getElementById('pctVal_m').textContent = pct;

        // Thousand
        const thou = Math.round(v*1000);
        document.getElementById('thouVal').textContent = thou;
        document.getElementById('thouVal_m').textContent = thou;

        // numerator/denominator rendering (show mixed number for values > 1)
        const frac = decimalToFraction(sel.value);
        const frEl = document.getElementById('fractionRender');
        const decEl = document.getElementById('fractionDecimal');
        const mixedWrap = document.getElementById('mixedWrap');
        if(frEl){
          const whole = Math.floor(frac.num / frac.den);
          const rem = frac.num - whole * frac.den;
          // show big integer (whole) on left for mixed numbers
          if(decEl){
            if(whole > 0) decEl.textContent = String(whole);
            else decEl.textContent = '';
          }

          if(whole > 0 && rem > 0){
            frEl.innerHTML = `<span class="num">${rem}</span><span class="bar"></span><span class="den">${frac.den}</span>`;
            if(mixedWrap) mixedWrap.classList.add('has-int');
          } else if(whole > 0 && rem === 0){
            // whole number only: hide fraction
            frEl.innerHTML = '';
            if(mixedWrap) mixedWrap.classList.remove('has-int');
          } else {
            // proper fraction < 1: show numerator/denominator (no big integer)
            if(decEl) decEl.textContent = '';
            frEl.innerHTML = `<span class="num">${frac.num}</span><span class="bar"></span><span class="den">${frac.den}</span>`;
            if(mixedWrap) mixedWrap.classList.remove('has-int');
          }
        }
      }

      sel.addEventListener('change', updateAll);
      // initial update
      updateAll();
    </script>
  
      <!-- Watermark -->
    <div class="watermark">T. S. Jagadale</div>

  </body>
</html>
